"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}jQuery(document).ready(function(e){t=function(c){function a(t){return l.hasOwnProperty(t)&&0<l[t].length||d.hasOwnProperty(t)}var l={},d={};c.ajaxq=function(e,a){if(void 0===a)throw"AjaxQ: queue name is not provided";var t,r=c.Deferred(),o=r.promise(),s=(o.success=o.done,o.error=o.fail,o.complete=o.always,"function"==typeof a),i=s?null:c.extend(!0,{},a);return t=function(){var t=c.ajax.apply(window,[s?a():i]);return t.done(function(){r.resolve.apply(this,arguments)}),t.fail(function(){r.reject.apply(this,arguments)}),t.always(n),t},l[e]?l[e].push(t):(l[e]=[],t=t(),d[e]=t),o;function n(){var t;l[e]&&((t=l[e].shift())?(t=t(),d[e]=t):(delete l[e],delete d[e]))}},c.each(["getq","postq"],function(t,s){c[s]=function(t,e,a,r,o){return c.isFunction(a)&&(o=o||r,r=a,a=void 0),c.ajaxq(t,{type:"postq"===s?"post":"get",url:e,data:a,success:r,dataType:o})}});c.ajaxq.isRunning=function(t){if(t)return a(t);for(var e in l)if(a(e))return!0;return!1},c.ajaxq.getActiveRequest=function(t){if(t)return d[t];throw"AjaxQ: queue name is required"},c.ajaxq.abort=function(t){if(!t)throw"AjaxQ: queue name is required";var e=c.ajaxq.getActiveRequest(t);delete l[t],delete d[t],e&&e.abort()},c.ajaxq.clear=function(t){if(t)l[t]&&(l[t]=[]);else for(var e in l)l.hasOwnProperty(e)&&(l[e]=[])}},"function"==typeof define&&define.amd?define(["jquery"],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t(require("jquery")):t(jQuery),jQuery(document).ready(function(){var t,e,a,o=jQuery(".js-date-range-picker-btn"),s=jQuery(".js-date-range-picker-input"),i=jQuery(".js-date-range-picker-form");o.length&&s.length&&i.length&&(o.on("click",function(){s.trigger("click")}),s.daterangepicker({autoApply:!0,ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 14 Days":[moment().subtract(13,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"Last 60 Days":[moment().subtract(59,"days"),moment()],"Last 90 Days":[moment().subtract(89,"days"),moment()],"Last 120 Days":[moment().subtract(119,"days"),moment()],"Last 6 Months":[moment().subtract(179,"days"),moment()],"This Year":[moment().startOf("year"),moment().endOf("year")]}}),u.isset(u.global,"request_params","from")&&u.isset(u.global,"request_params","to")?(e=u.global.request_params.from,t=u.global.request_params.to,s.data("daterangepicker").setStartDate(moment(e).format("MM/DD/YYYY")),s.data("daterangepicker").setEndDate(moment(t).format("MM/DD/YYYY")),s.data("daterangepicker").updateCalendars(),e=s.data("daterangepicker").container.find(".ranges li.active").text(),o.find("span").html(e)):(a=o.find("span").text(),s.data("daterangepicker").container.find(".ranges li.active").removeClass("active"),s.data("daterangepicker").container.find('.ranges li[data-range-key="'+a+'"]').addClass("active"),s.on("show.daterangepicker",function(t,e){s.data("daterangepicker").container.find(".ranges li.active").removeClass("active"),s.data("daterangepicker").container.find('.ranges li[data-range-key="'+a+'"]').addClass("active")})),s.on("apply.daterangepicker",function(t,e){var a=i.find(".js-date-range-picker-input-from").first(),r=i.find(".js-date-range-picker-input-to").first();a.val(e.startDate.format("YYYY-MM-DD")),r.val(e.endDate.format("YYYY-MM-DD")),o.find("span").html(s.data("daterangepicker").chosenLabel),i.submit()}))});var a,r,o,s,i,n,c,l,d,u={};if(u.global="undefined"!=typeof wps_global?wps_global:[],u._=function(t){return t in this.global.i18n?this.global.i18n[t]:""},u.is_active=function(t){return 1===u.global.options[t]},u.ajax_queue={key:"wp-statistics",time:400},u.ajaxQ=function(r,o,e,s){var t=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"GET",i=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],t={url:r=!1!==r&&"metabox"!==r?r:u.global.meta_box_api,type:t,dataType:"json",crossDomain:!0,cache:!1,data:o,success:function(t){r===u.global.meta_box_api&&!0===i?(t.no_data?jQuery(u.meta_box_inner(o.name)).empty().html(u.no_meta_box_data()):(jQuery(u.meta_box_inner(o.name)).empty().html(u[e].view(t)),u[e].meta_box_init&&setTimeout(function(){u[e].meta_box_init(t)},150)),!u.is_active("overview_page")&&"index.php"!==u.global.page.file||u.meta_box_footer(o.name,t)):u[e](t)},error:function(t,e,a){r===u.global.meta_box_api&&!0===i?jQuery(u.meta_box_inner(o.name)).empty().html(u[s](t.responseText)):u[s](t.responseText)}};r===u.global.meta_box_api&&(t.beforeSend=function(t){t.setRequestHeader("X-WP-Nonce",u.global.rest_api_nonce),t.setRequestHeader("Access-Control-Allow-Origin","*")}),jQuery.ajaxq(u.ajax_queue.key,t)},u.placeholder=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return'<div class="wps-ph-item"><div class="wps-ph-col-12">'.concat(u.placeholder_content("picture"),"").concat(u.placeholder_content("line"),"</div>")+(!1!==t?t:"")+"</div>"},u.line_placeholder=function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e='<div class="wps-ph-item">',a=0;a<t;a++)e+='<div class="wps-ph-col-12"> <div class="wps-ph-row"><div class="wps-ph-col-6 big"></div><div class="wps-ph-col-4 empty big"></div><div class="wps-ph-col-4"></div><div class="wps-ph-col-8 empty"></div><div class="wps-ph-col-6"></div><div class="wps-ph-col-6 empty"></div><div class="wps-ph-col-12"></div> </div></div>';return e+="</div>"},u.circle_placeholder=function(){return'<div class="wps-ph-item"> '.concat(u.placeholder_content("circle"),"</div>")},u.rectangle_placeholder=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return'<div class="wps-ph-item'+(0<t.length?" "+t:"")+'"><div class="wps-ph-col-12">'.concat(u.placeholder_content("picture"),"</div></div>")},u.placeholder_content=function(){var t="";switch(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"line"){case"picture":t='<div class="wps-ph-picture"></div>';break;case"line":t='<div class="wps-ph-row"><div class="wps-ph-col-6 big"></div><div class="wps-ph-col-4 empty big"></div><div class="wps-ph-col-2 big"></div><div class="wps-ph-col-4"></div><div class="wps-ph-col-8 empty"></div><div class="wps-ph-col-6"></div><div class="wps-ph-col-6 empty"></div><div class="wps-ph-col-12"></div> </div>';break;case"circle":t='<div class="wps-ph-col-2"></div><div class="wps-ph-col-8"><div class="wps-ph-avatar"></div></div>'}return t},u.exist_tag=function(t){return jQuery(t).length},u.date_picker=function(){jQuery.fn.datepicker&&"undefined"!=typeof wps_i18n_jquery_datepicker&&jQuery("input[data-wps-date-picker]").datepicker({monthNames:wps_i18n_jquery_datepicker.monthNames,monthNamesShort:wps_i18n_jquery_datepicker.monthNamesShort,dayNames:wps_i18n_jquery_datepicker.dayNames,dayNamesShort:wps_i18n_jquery_datepicker.dayNamesShort,dayNamesMin:wps_i18n_jquery_datepicker.dayNamesMin,dateFormat:wps_i18n_jquery_datepicker.dateFormat,firstDay:wps_i18n_jquery_datepicker.firstDay,isRTL:wps_i18n_jquery_datepicker.isRTL,onSelect:function(t){var e=jQuery(this).attr("data-wps-date-picker");0<t.length&&jQuery("input[id=date-"+e+"]").val(t)}})},u.select2=function(){jQuery("select[data-type-show=select2]").select2()},u.redirect=function(t){window.location.replace(t)},u.line_chart=function(t,e,a,r,o){t=document.getElementById(t).getContext("2d");u.is_active("rtl")&&(Chart.defaults.global={defaultFontFamily:"Tahoma"});a=Object.assign({},{type:"line",data:{labels:a,datasets:r},options:{responsive:!0,legend:{position:"bottom"},animation:{duration:1500},title:{display:!0,text:e},tooltips:{mode:"index",intersect:!1},interaction:{intersect:!1,mode:"index"},scales:{yAxes:{ticks:{beginAtZero:!0}}}}},o);new Chart(t,a)},u.pie_chart=function(t,e,a){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],t=document.getElementById(t).getContext("2d");u.is_active("rtl")&&(Chart.defaults.global={defaultFontFamily:"Tahoma"}),!1===r&&(r=function(t,e){var a=e.datasets[t.datasetIndex],r=a.data.reduce(function(t,e,a,r){return t+e}),a=a.data[t.index];return Math.floor(a/r*100+.5)+"% - "+e.labels[t.index]}),new Chart(t,{type:"pie",data:{labels:e,datasets:a},options:{responsive:!0,plugins:{legend:{position:function(t){return 400<t.chart.width?"left":"top"}}},animation:{duration:1500},tooltips:{callbacks:{label:r}}},plugins:[{afterDraw:function(t){var e,a,r;!0===t.data.datasets[0].data.every(function(t){return 0==t})&&(e=t.chart.ctx,a=t.chart.width,r=t.chart.height,t.clear(),e.save(),e.textAlign="center",e.textBaseline="middle",e.font="14px normal 'Tahoma'",e.fillText(u._("no_data"),a/2,r/2),e.restore())}}]})},u.chart_id=function(t){return"wp-statistics-"+t+"-meta-box-chart"},u.random_color=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=[[243,156,18,"#f39c12"],[52,152,219,"#3498db"],[192,57,43,"#c0392b"],[155,89,182,"#9b59b6"],[39,174,96,"#27ae60"],[230,126,34,"#e67e22"],[142,68,173,"#8e44ad"],[46,204,113,"#2ecc71"],[41,128,185,"#2980b9"],[22,160,133,"#16a085"],[211,84,0,"#d35400"],[44,62,80,"#2c3e50"],[241,196,15,"#f1c40f"],[231,76,60,"#e74c3c"],[26,188,156,"#1abc9c"],[46,204,113,"#2ecc71"],[52,152,219,"#3498db"],[155,89,182,"#9b59b6"],[52,73,94,"#34495e"],[22,160,133,"#16a085"],[39,174,96,"#27ae60"],[44,62,80,"#2c3e50"],[241,196,15,"#f1c40f"],[230,126,34,"#e67e22"],[231,76,60,"#e74c3c"],[236,240,241,"#9b9e9f"],[149,165,166,"#a65d20"]];return e[!1===t?Math.floor(Math.random()*e.length):t]},u.site_icon=function(t){return'<img src="https://www.google.com/s2/favicons?domain='.concat(t,'" width="18" height="18" alt="').concat(t,'" style="vertical-align: middle;" />')},u.wordpress_postbox_ajax=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"enable",e=jQuery(".postbox .hndle, .postbox .handlediv");"enable"===t?e.on("click",window.postboxes.handle_click):e.off("click",window.postboxes.handle_click)},u.isset=function(t){for(var e=Array.prototype.slice.call(arguments,1),a=0;a<e.length;a++){if(!t||!t.hasOwnProperty(e[a]))return!1;t=t[e[a]]}return!0},u.number_format=function(t,e,a,r){if(null==t||!isFinite(t))throw new TypeError("number is not valid");e||(e=1<(o=t.toString().split(".").length)?o:0),a=a||".",r=r||",";var o=(t=(t=parseFloat(t).toFixed(e)).replace(".",a)).split(a);return o[0]=o[0].replace(/\B(?=(\d{3})+(?!\d))/g,r),t=o.join(a)},u.set_equal_height=function(t,e){var a=jQuery(t).height(),r=jQuery(e).height(),o=a;a<r&&(e=t,o=r),jQuery(e).css("height",o+"px")},u.Create_Half_PostBox=function(t,e){return'<div class="postbox-container wps-postbox-half '.concat(t,'"><div class="metabox-holder"><div class="meta-box-sortables"> <div class="postbox" id="').concat(e,'"> <div class="inside"></div></div></div></div></div>')},u.isIP=function(t){var e="(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]?|0)";return new RegExp("^".concat(e,"\\.").concat(e,"\\.").concat(e,"\\.").concat(e,"$")).test(t)},u.getLinkParams=function(t){t=(1<arguments.length&&void 0!==arguments[1]&&arguments[1]||window.location.href).match(new RegExp("(?:[?&]"+t+"=)([^&]+)"));return t?t[1]:null},u.sum=function(t){return t.reduce(function(t,e){return t+e},0)},u.sanitize_meta_box_name=function(t){return t.replace(new RegExp("-","g"),"_")},u.get_meta_box_method=function(t){return this.sanitize_meta_box_name(t)+"_meta_box"},u.getMetaBoxKey=function(t){return"wp-statistics-"+t+"-widget"},u.no_meta_box_data=function(){return'<div class="o-wrap o-wrap--no-data">'+u._("no_data")+"</div>"},u.error_meta_box_data=function(t){t=JSON.parse(t);return u.isset(t,"message")?'<div class="o-wrap o-wrap--no-data">'+t.message+"</div>":'<div class="o-wrap o-wrap--no-data">'+u._("rest_connect")+"</div>"},u.get_meta_box_info=function(t){return t in u.global.meta_boxes?u.global.meta_boxes[t]:[]},u.meta_box_lang=function(t,e){return e in u.global.meta_boxes[t].lang?u.global.meta_boxes[t].lang[e]:""},u.meta_box_inner=function(t){return"#"+u.getMetaBoxKey(t)+" div.inside"},u.meta_box_name_by_id=function(t){return t.split("statistics-").pop().split("-widget")[0]},u.meta_box_button=function(t){var e="#"+u.getMetaBoxKey(t)+" .handle-actions button:first",a=(u.get_meta_box_info(t),"right");u.is_active("rtl")&&(a="left"),jQuery("#"+u.getMetaBoxKey(t)+" button[class*=wps-refresh]").remove(),jQuery('<button class="handlediv wps-refresh"'+(u.is_active("gutenberg")?' style="'.concat("z-index: 9999;position: absolute;top: 1px;").concat(a,': 3%;" '):'style="line-height: 28px;"')+' type="button" data-tooltip="'+u._("reload")+'"><span class="wps-refresh-icon"></span> <span class="screen-reader-text">'+u._("reload")+"</span></button>").insertBefore(e)},u.run_meta_box=function(t){var e,a,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];u.exist_tag("#"+u.getMetaBoxKey(t))&&(u.is_active("gutenberg")||!u.is_active("gutenberg")&&jQuery("#"+u.getMetaBoxKey(t)).is(":visible"))&&(a=jQuery(u.meta_box_inner(t)),(e=u.get_meta_box_method(t))in u&&("placeholder"in u[e]?a.html(u[e].placeholder()):a.html(u.placeholder()),!0===o&&u.meta_box_button(t),!(a={name:t})!==r&&(a=Object.assign(r,a)),"params"in u[e]&&(a=Object.assign(a,u[e].params())),u.ajaxQ("metabox",a,e,"error_meta_box_data")))},u.run_meta_boxes=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];(t=!1===t?Object.keys(u.global.meta_boxes):t).forEach(function(t){var e="",a=u.global.meta_boxes[t];a.hasOwnProperty("footer_options")&&(e=a.footer_options.default_date_filter),u.run_meta_box(t,{ago:e})})},u.meta_box_footer=function(a,t){var e={filter_by_date:!1,default_date_filter:"",display_more_link:!1,more_link_title:""},r=u.global.meta_boxes[a],o=(r.hasOwnProperty("footer_options")&&Object.assign(e,r.footer_options),""),s=(t.hasOwnProperty("filter")?o=t.filter:void 0!==e.default_date_filter&&(o=e.default_date_filter),""),i=(t.hasOwnProperty("filter_start_date")&&(s=t.filter_start_date),""),n=(t.hasOwnProperty("filter_end_date")&&(i=t.filter_end_date),""),c=(t.hasOwnProperty("from")&&(n=t.from),"");t.hasOwnProperty("to")&&(c=t.to),(e.filter_by_date||e.display_more_link)&&(t='<div class="c-footer"><div class="c-footer__filter js-widget-filters">',e.filter_by_date&&(t+='<button class="c-footer__filter__btn js-filters-toggle">'+u._("str_"+e.default_date_filter)+'</button><div class="c-footer__filters"><div class="c-footer__filters__current-filter"><span class="c-footer__current-filter__title js-filter-title">Last 7 days</span><span class="c-footer__current-filter__date-range hs-filter-range">May 12,2020-May 20, 2020</span></div><div class="c-footer__filters__list"><button data-metabox-key="'.concat(a,'" data-filter="today" class="c-footer__filters__list-item">')+u._("str_today")+'</button><button data-metabox-key="'.concat(a,'" data-filter="yesterday" class="c-footer__filters__list-item">')+u._("str_yesterday")+'</button><button data-metabox-key="'.concat(a,'" data-filter="7days" class="c-footer__filters__list-item">')+u._("str_7days")+'</button><button data-metabox-key="'.concat(a,'" data-filter="30days" class="c-footer__filters__list-item">')+u._("str_30days")+'</button><button data-metabox-key="'.concat(a,'" data-filter="90days" class="c-footer__filters__list-item">')+u._("str_90days")+"</button><button class=\"c-footer__filters__list-item c-footer__filters__list-item--more\" onclick=\"jQuery(this).closest('.c-footer__filters__list').find('.js-more-filters').addClass('is-open')\">"+u._("str_more")+' <svg width="8" height="6" viewBox="0 0 8 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.25736 5.07544L4.32794 5.14601C4.241 5.23295 4.12308 5.28182 4.00009 5.28182C3.87715 5.28182 3.7592 5.233 3.67226 5.14604C3.67226 5.14603 3.67225 5.14603 3.67225 5.14602L0.0358041 1.50968L0.106514 1.43896L0.0358032 1.50968C-0.14526 1.32861 -0.14526 1.03507 0.0357727 0.854006M4.25736 5.07544L0.10649 0.92471M4.25736 5.07544L4.32794 5.14601L7.9642 1.50965C8.14527 1.32859 8.14527 1.03504 7.9642 0.853976C7.78317 0.67294 7.4896 0.672907 7.30853 0.853976L7.37924 0.924687M4.25736 5.07544L7.37924 0.924687M0.0357727 0.854006L0.10649 0.92471M0.0357727 0.854006C0.0357708 0.854008 0.0357689 0.85401 0.035767 0.854012L0.10649 0.92471M0.0357727 0.854006C0.126294 0.763456 0.245135 0.718189 0.363629 0.718189C0.482123 0.718189 0.600959 0.763457 0.691478 0.853975L4.00008 4.16249M0.10649 0.92471C0.177495 0.85368 0.270562 0.818189 0.363629 0.818189C0.456695 0.818189 0.549762 0.85368 0.620768 0.924686L3.92938 4.2332L4.00008 4.16249M4.00008 4.16249L7.30853 0.853977L7.37924 0.924687M4.00008 4.16249L4.0708 4.2332L7.37924 0.924687" fill="#5F6368" stroke="#5F6368" stroke-width="0.2"/></svg></button><div class="c-footer__filters__more-filters js-more-filters"><button data-metabox-key="'.concat(a,'" data-filter="14days" class="c-footer__filters__list-item">')+u._("str_14days")+'</button><button data-metabox-key="'.concat(a,'" data-filter="60days" class="c-footer__filters__list-item">')+u._("str_60days")+'</button><button data-metabox-key="'.concat(a,'" data-filter="120days" class="c-footer__filters__list-item">')+u._("str_120days")+'</button><button data-metabox-key="'.concat(a,'" data-filter="6months" class="c-footer__filters__list-item">')+u._("str_6months")+'</button><button data-metabox-key="'.concat(a,'" data-filter="year" class="c-footer__filters__list-item">')+u._("str_year")+'</button><button class="c-footer__filters__close-more-filters" onclick="jQuery(this).closest(\'.js-more-fi\' + \'lters\').removeClass(\'is-open\')"><svg width="8" height="6" viewBox="0 0 8 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.25736 5.07544L4.32794 5.14601C4.241 5.23295 4.12308 5.28182 4.00009 5.28182C3.87715 5.28182 3.7592 5.233 3.67226 5.14604C3.67226 5.14603 3.67225 5.14603 3.67225 5.14602L0.0358041 1.50968L0.106514 1.43896L0.0358032 1.50968C-0.14526 1.32861 -0.14526 1.03507 0.0357727 0.854006M4.25736 5.07544L0.10649 0.92471M4.25736 5.07544L4.32794 5.14601L7.9642 1.50965C8.14527 1.32859 8.14527 1.03504 7.9642 0.853976C7.78317 0.67294 7.4896 0.672907 7.30853 0.853976L7.37924 0.924687M4.25736 5.07544L7.37924 0.924687M0.0357727 0.854006L0.10649 0.92471M0.0357727 0.854006C0.0357708 0.854008 0.0357689 0.85401 0.035767 0.854012L0.10649 0.92471M0.0357727 0.854006C0.126294 0.763456 0.245135 0.718189 0.363629 0.718189C0.482123 0.718189 0.600959 0.763457 0.691478 0.853975L4.00008 4.16249M0.10649 0.92471C0.177495 0.85368 0.270562 0.818189 0.363629 0.818189C0.456695 0.818189 0.549762 0.85368 0.620768 0.924686L3.92938 4.2332L4.00008 4.16249M4.00008 4.16249L7.30853 0.853977L7.37924 0.924687M4.00008 4.16249L4.0708 4.2332L7.37924 0.924687" fill="#5F6368" stroke="#5F6368" stroke-width="0.2"/></svg> '+u._("str_back")+'</button></div><input type="text" class="c-footer__filters__custom-date-input js-datepicker-input"/><button data-metabox-key="'.concat(a,'" data-filter="custom" class="c-footer__filters__list-item c-footer__filters__list-item--custom js-custom-datepicker">')+u._("str_custom")+"</button></div></div>"),t+='</div><div class="c-footer__more">',e.display_more_link&&(t+='<a class="c-footer__more__link" href="'+u.global.admin_url+"admin.php?page="+r.page_url+'">'.concat(e.more_link_title,'<svg width="14" height="10" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m9.61181.611328-.71269.712722 3.17148 3.17149L0 4.49951v1.00398h12.0706L8.89912 8.67495l.71269.71272L14 4.99948 9.61181.611328Z" fill="#404BF2"/></svg></a>')),t+="</div></div>",jQuery(u.meta_box_inner(a)).append(t),(r=jQuery(u.meta_box_inner(a)).find(".js-datepicker-input").first()).daterangepicker({autoApply:!0}),r.on("apply.daterangepicker",function(t,e){u.run_meta_box(a,{from:e.startDate.format("YYYY-MM-DD"),to:e.endDate.format("YYYY-MM-DD")})}),jQuery(".js-filters-toggle:not(.is-ready)").on("click",function(){jQuery(".js-widget-filters").removeClass("is-active"),jQuery(".postbox").removeClass("has-focus"),jQuery(this).closest(".js-widget-filters").toggleClass("is-active"),jQuery(this).closest(".postbox").toggleClass("has-focus"),jQuery(this).hasClass("is-active")||jQuery(this)[0].getBoundingClientRect().top<350&&jQuery(this).closest(".js-widget-filters").addClass("is-down")}),jQuery(".js-filters-toggle:not(.is-ready)").addClass("is-ready"),u.set_date_filter_as_selected(a,o,s,i,n,c))},u.set_date_filter_as_selected=function(t,e,a,r,o,s){var i=jQuery(u.meta_box_inner(t)),n=jQuery(i).find(".c-footer__filter__btn"),c=jQuery(i).find(".c-footer__filters__list"),l=jQuery(i).find(".c-footer__current-filter__title"),i=jQuery(i).find(".c-footer__current-filter__date-range");e.length&&(c.find("button[data-filter]").removeClass("is-selected"),c.find('button[data-filter="'+e+'"').addClass("is-selected"),n.text(u._("str_"+e)),l.text(u._("str_"+e)),"custom"==e&&((c=jQuery(u.meta_box_inner(t)).find(".js-datepicker-input").first()).data("daterangepicker").setStartDate(moment(o).format("MM/DD/YYYY")),c.data("daterangepicker").setEndDate(moment(s).format("MM/DD/YYYY")))),a.length&&r.length&&i.text(a+"-"+r)},jQuery(document).on("click","button[data-filter]:not(.c-footer__filters__list-item--custom)",function(){u.run_meta_box(jQuery(this).attr("data-metabox-key"),{ago:jQuery(this).attr("data-filter")})}),jQuery(document).on("click",'button[data-filter="custom"]',function(){var t=jQuery(this).attr("data-metabox-key");jQuery(u.meta_box_inner(t)).find(".js-datepicker-input").first().data("daterangepicker").show()}),jQuery(document).on("mouseenter mouseleave",".wps-refresh, .wps-more",function(t){"mouseenter"===t.type?u.wordpress_postbox_ajax("disable"):u.wordpress_postbox_ajax("enable")}),jQuery(document).on("click",".wps-refresh",function(t){t.preventDefault();var e=jQuery(this).closest(".postbox").attr("id"),t=u.meta_box_name_by_id(e),a="",r=u.global.meta_boxes[t];r.hasOwnProperty("footer_options")&&(a=r.footer_options.default_date_filter),u.run_meta_box(t,{ago:a},!1),setTimeout(function(){jQuery("#"+e).find(".wps-refresh").blur()},1e3)}),jQuery(document).on("click",'input[type=checkbox][id^="wp-statistics-"][id$="-widget-hide"]',function(){var t;jQuery(this).is(":checked")&&(t=jQuery(this).attr("id"),t=u.meta_box_name_by_id(t),u.run_meta_box(t))}),u.btn_group_chart=function(e){var a,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r={7:u._("str_week"),30:u._("str_month"),365:u._("str_year")},o=("ago"==t.type&&(a=parseInt(t.days)),'<div class="wps-btn-group"><div class="btn-group" role="group">');return Object.keys(r).forEach(function(t){o+='<button type="button" class="btn '+(t==a?"btn-primary":"btn-default")+'" data-chart-time="'.concat(e,'" data-time="').concat(t,'">').concat(r[t],"</button>")}),o=(o=o+('<button type="button" class="btn '+("between"==t.type?"btn-primary":"btn-default")+'" data-custom-date-picker="'.concat(e,'">').concat(u._("custom"),"</button>"))+"</div></div>")+('<div data-chart-date-picker="'.concat(e,'"')+("ago"==t.type?' style="display:none;"':"")+'><input type="text" size="18" name="date-from" data-wps-date-picker="from" value="'.concat(t.from,'" placeholder="YYYY-MM-DD" autocomplete="off">')+u._("to")+'<input type="text" size="18" name="date-to" data-wps-date-picker="to" value="'.concat(t.to,'" placeholder="YYYY-MM-DD" autocomplete="off"><input type="submit" value="')+u._("go")+'" data-between-chart-show="'.concat(e,'" class="button-primary"><input type="hidden" name="" id="date-from" value="').concat(t.from,'"><input type="hidden" name="" id="date-to" value="').concat(t.to,'"></div>'))},jQuery(document).on("click",".wps-btn-group button",function(){jQuery(".wps-btn-group button").attr("class","btn btn-default"),jQuery(this).attr("class","btn btn-primary")}),jQuery(document).on("click","button[data-custom-date-picker]",function(){jQuery("div[data-chart-date-picker= "+jQuery(this).attr("data-custom-date-picker")+"]").slideDown()}),jQuery(document).on("click","button[data-chart-time]",function(){u.run_meta_box(jQuery(this).attr("data-chart-time"),{ago:jQuery(this).attr("data-time"),"no-data":"no"})}),jQuery(document).on("click","input[data-between-chart-show]",function(){var t=jQuery(this).attr("data-between-chart-show");u.run_meta_box(t,{from:jQuery("div[data-chart-date-picker="+t+"] input[id=date-from]").val(),to:jQuery("div[data-chart-date-picker="+t+"] input[id=date-to]").val(),"no-data":"no"})}),jQuery(document).on("click",function(t){var e;jQuery(t.target).closest(".js-widget-filters").length?(e=t.target.classList).contains("c-footer__filter__btn")&&e.contains("is-active")?(t.target.classList.remove("is-active"),jQuery(".js-widget-filters").removeClass("is-active"),jQuery(".postbox.has-focus").removeClass("has-focus"),setTimeout(function(){jQuery(".js-widget-filters").removeClass("is-down")},500)):e.contains("c-footer__filter__btn")&&!e.contains("is-active")&&t.target.classList.add("is-active"):(jQuery(".js-widget-filters").removeClass("is-active"),jQuery(".postbox.has-focus").removeClass("has-focus"),jQuery(".c-footer__filter__btn.is-active").removeClass("is-active"),setTimeout(function(){jQuery(".js-widget-filters").removeClass("is-down")},500))}),u.browsers_meta_box={placeholder:function(){return u.circle_placeholder()},view:function(){var t="";return t+='<div class="o-wrap"><div class="c-chart c-chart--limited-height"><canvas id="'+u.chart_id("browsers")+'" height="220"></canvas></div></div>'},meta_box_init:function(){for(var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],a=[],r=0;r<=10;r++)t=u.random_color(r),a.push("rgba("+t[0]+","+t[1]+","+t[2]+",0.4)");var o=[{label:u._("browsers"),data:e.browsers_value,backgroundColor:a}];if(u.pie_chart(u.chart_id("browsers"),e.browsers_name,o),u.exist_tag("#"+u.getMetaBoxKey("browsers-table"))){["browsers-table","browsers"].forEach(function(t){jQuery("#"+u.getMetaBoxKey(t)+" .inside").removeAttr("style")});for(var s='<div class="title-center">'.concat(e.title,'</div><table width="100%" class="o-table"><tr><td class="wps-text-muted">').concat(u._("browser"),'</td><td class="wps-text-muted">').concat(u._("visitor_count"),'</td><td class="wps-text-muted">').concat(u._("percentage"),"</td></tr>"),i=0;i<e.browsers_name.length;i++)s+=" <tr><td>".concat(e.browsers_name[i],"</td><td>").concat(0<parseInt(e.browsers_value[i])?"".concat("other"!==e.info.agent[i]?'<a href="'+e.info.visitor_page+"&agent="+e.info.agent[i]+"&from="+e.from+"&to="+e.to+'" target="_blank">':""," ").concat(u.number_format(e.browsers_value[i])," ").concat("other"!==e.info.agent[i]?"</a>":""):e.browsers_value[i],"</td><td>").concat(u.number_format(e.browsers_value[i]/e.total*100),"%</td> </tr>");s=s+" <tr><td>".concat(u._("total"),"</td><td>").concat(u.number_format(e.total),"</td><td></td></tr>")+"</table>",jQuery("#"+u.getMetaBoxKey("browsers-table")+" .inside").html(s),u.set_equal_height(".postBox-table .inside",".postBox-chart .inside");for(var n="",c=0;c<e.browsers_name.length;c++)0<parseInt(e.browsers_value[c])&&e.info.agent[c]&&(n=(n=(n+='<div class="wps-title-group"><img src="'.concat(e.info.logo[c],'" alt="').concat(e.browsers_name[c],'" style="vertical-align: -3px;" class="wps-flag log-tools"> ').concat(e.browsers_name[c],'</div><div class="wp-clearfix"></div>'))+u.Create_Half_PostBox("postBox-chart-"+e.info.agent[c],"browser-"+e.info.agent[c]+"-chart"))+u.Create_Half_PostBox("postBox-table-"+e.info.agent[c],"browser-"+e.info.agent[c]+"-table")+'<div class="wp-clearfix"></div>');jQuery(n).insertAfter("#browsers-table");for(var l=0;l<e.browsers_name.length;l++)0<parseInt(e.browsers_value[l])&&e.info.agent[l]&&this.run_custom_browser(e.info.agent[l])}},run_custom_browser:function(t){["browser-"+t+"-chart","browser-"+t+"-table"].forEach(function(t){jQuery("#"+t+" .inside").css("height","430px")}),jQuery("#browser-"+t+"-table .inside").html(u.placeholder()),jQuery("#browser-"+t+"-chart .inside").html(u.circle_placeholder()),jQuery(".wps-ph-picture").attr("style","height: 310px;");var e={name:"browsers",browser:t};["from","to"].forEach(function(t){u.isset(u.global,"request_params",t)&&(e[t]=u.global.request_params[t])}),u.ajaxQ(u.global.meta_box_api,e,"show_custom_agent","error_custom_agent","GET",!1)}},u.show_custom_agent=function(i){var n=i.info.agent[0];jQuery("#browser-"+n+"-chart .inside").html('<canvas id="'+u.chart_id("browser-"+n)+'" height="220"></canvas>'),setTimeout(function(){for(var t,e=[],a=0;a<=10;a++)t=u.random_color(a),e.push("rgba("+t[0]+","+t[1]+","+t[2]+",0.4)");for(var r=[{label:u._("browsers"),data:i.browsers_value,backgroundColor:e}],o=(u.pie_chart(u.chart_id("browser-"+n),i.browsers_name,r),["browser-"+n+"-chart","browser-"+n+"-table"].forEach(function(t){jQuery("#"+t+" .inside").removeAttr("style")}),'<div class="title-center">'.concat(i.title,'</div><table width="100%" class="o-table"><tr><td class="wps-text-muted">').concat(u._("version_list"),'</td><td class="wps-text-muted">').concat(u._("visitor_count"),'</td><td class="wps-text-muted">').concat(u._("percentage"),"</td></tr>")),s=0;s<i.browsers_name.length;s++)o+=" <tr><td>".concat(i.browsers_name[s],"</td><td>").concat(0<parseInt(i.browsers_value[s])?u.number_format(i.browsers_value[s]):i.browsers_value[s],"</td><td>").concat(u.number_format(i.browsers_value[s]/i.total*100),"%</td></tr>");o=o+" <tr><td>".concat(u._("total"),"</td><td>").concat(u.number_format(i.total),"</td><td></td></tr>")+"</table>",r="#browser-"+n+"-table .inside";jQuery(r).html(o),u.set_equal_height(r,"#browser-"+n+"-chart .inside")},500)},u.error_custom_agent=function(t){},u.countries_meta_box={view:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e="",a=(e+='<div class="o-table-wrapper"><table width="100%" class="o-table o-table--layout-fixed o-table--link table-stats wps-report-table"><tbody><tr><td></td><td>'.concat(u._("country"),"</td><td>").concat(u._("visitor_count"),"</td></tr>"),1);return t.countries.forEach(function(t){e+='<tr><td class="row-id">'.concat(a,'</td><td><img src="').concat(t.flag,'" title="').concat(t.name,'" alt="').concat(t.name,'" class="wps-flag wps-flag--first"/> ').concat(t.name,'</td><td><a href="').concat(t.link,'" title="').concat(t.name,'" target="_blank">').concat(u.number_format(t.number),' <svg style="margin-top: 3px;" width="10" height="10" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.82751 4.99993 2.62209 2.79451c-.0759-.07859-.1179-.18384-.11695-.29309.00095-.10924.04477-.21375.12203-.291.07725-.07726.18176-.12108.291-.12203.10925-.00094.2145.04105.29309.11695l2.5 2.5c.07811.07814.12199.1841.12199.29459 0 .11048-.04388.21644-.12199.29458l-2.5 2.5c-.07859.0759-.18384.1179-.29309.11695-.10924-.00095-.21375-.04477-.291-.12203-.07726-.07725-.12108-.18176-.12203-.291-.00095-.10925.04105-.2145.11695-.29309l2.20542-2.20541Z" fill="#404BF2" fill-opacity=".5"/><path d="M7.87792 5.13371 5.67251 2.9283c-.0759-.07859-.1179-.18384-.11695-.29309.00095-.10924.04477-.21375.12202-.291.07726-.07726.18176-.12108.29101-.12203.10925-.00095.2145.04105.29308.11695l2.5 2.5c.07812.07814.122.1841.122.29458 0 .11049-.04388.21645-.122.29459l-2.5 2.5c-.07858.0759-.18383.11789-.29308.11695-.10925-.00095-.21375-.04477-.29101-.12203-.07725-.07725-.12107-.18176-.12202-.29101-.00095-.10924.04105-.2145.11695-.29308l2.20541-2.20542Z" fill="#404BF2"/> </svg></a></td></tr>'),a++}),e+="</tbody></table></div>"}},u.devices_meta_box={placeholder:function(){return u.circle_placeholder()},view:function(){var t="";return t+='<div class="o-wrap"><div class="c-chart c-chart--limited-height"><canvas id="'+u.chart_id("devices")+'" height="220"></canvas></div></div>'},meta_box_init:function(){for(var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],a=[],r=0;r<=20;r++)t=u.random_color(),a.push("rgba("+t[0]+","+t[1]+","+t[2]+",0.4)");var o=[{label:u._("device"),data:e.device_value,backgroundColor:a,tension:.4}];u.pie_chart(u.chart_id("devices"),e.device_name,o)}},u.exclusions_meta_box={placeholder:function(){return u.rectangle_placeholder()},view:function(){var t=u.is_active("overview_page")?110:210,e=(u.isset(u.global,"request_params","page")&&"exclusions"===u.global.request_params.page&&(t=80),"");return e+='<canvas id="'+u.chart_id("exclusions")+'" height="'+t+'"></canvas>'},meta_box_init:function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];this.show_chart(u.chart_id("exclusions"),e),u.isset(u.global,"request_params","page")&&"exclusions"===u.global.request_params.page&&u.exist_tag(t="span[id='number-total-chart-exclusions']")&&(e=u.sum(Object.values(e.total)),jQuery(t).html(u.number_format(e)))},show_chart:function(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],s="",i=[],n=0;Object.keys(o.exclusions).forEach(function(t){var e,a,r=u.sum(Object.values(o.value[t]));0<r&&(e=o.exclusions[t],a=u.random_color(n),i.push({label:e,data:o.value[t],backgroundColor:"rgba("+a[0]+","+a[1]+","+a[2]+",0.3)",borderColor:"rgba("+a[0]+","+a[1]+","+a[2]+",1)",borderWidth:1,fill:!0,tension:.4}),s+="<tr><th>".concat(e,'</th> <th class="th-center"><span style="color: #9a9494 !important;">').concat(u.number_format(r),"</span></th></tr>"),n++)}),u.exist_tag("table[data-table=exclusions]")&&jQuery(s).insertAfter("table[data-table=exclusions] tr:first"),u.line_chart(t,o.title,o.date,i)}},u.hits_meta_box={placeholder:function(){return u.rectangle_placeholder()},view:function(){var t=u.is_active("overview_page")?300:210,e=(u.isset(u.global,"request_params","page")&&"hits"===u.global.request_params.page&&(t=80),"");return e+='<div class="o-wrap"><canvas id="'+u.chart_id("hits")+'" height="'+t+'"></canvas></div>'},meta_box_init:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];this.hits_chart(u.chart_id("hits"),a),u.isset(u.global,"request_params","page")&&"hits"===u.global.request_params.page&&["visits","visitors"].forEach(function(t){var e="span[id^='number-total-chart-"+t+"']";u.exist_tag(e)&&jQuery(e).html(a.total[t])})},hits_chart:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=e,e=("hits-chart"in e&&(a=e["hits-chart"]),[]),r=(u.is_active("visitors")&&e.push({label:u._("visitors"),data:a.visitors,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1,fill:!0,tension:.4}),u.is_active("visits")&&e.push({label:u._("visits"),data:a.visits,backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,fill:!0,tension:.4}),{});u.is_active("overview_page")&&(r={options:{maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"}}}),u.line_chart(t,a.title,a.date,e,r)}},u.hitsmap_meta_box={placeholder:function(){return u.rectangle_placeholder()},view:function(){return'<div class="o-wrap"><div id="wp-statistics-visitors-map"></div></div>'},meta_box_init:function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],o=Array(),e=(r.hasOwnProperty("country")&&Object.keys(r.country).forEach(function(e){var a="<div class='map-html-marker'><div class=\"map-country-header\"><img src='".concat(r.country[e].flag,"' alt=\"").concat(r.country[e].name,"\" title='").concat(r.country[e].name,"' class='log-tools wps-flag'/> ").concat(r.country[e].name," (").concat(r.total_country[e],")</div>");Object.keys(r.visitor[e]).forEach(function(t){a+="<p><img src='".concat(r.visitor[e][t].browser.logo,"' alt=\"").concat(r.visitor[e][t].browser.name,"\" class='wps-flag log-tools' title='").concat(r.visitor[e][t].browser.name,"'/> ").concat(r.visitor[e][t].ip," ")+(["Unknown","(Unknown)"].includes(r.visitor[e][t].city)?"":"- "+r.visitor[e][t].city)+"</p>"}),a+="</div>",o[e]=a}),jQuery("#wp-statistics-visitors-map").vectorMap({map:"world_en",backgroundColor:"#fff",borderColor:"#7e7e7e",borderOpacity:.6,color:"#e6e5e2",selectedColor:"#9DA3F7",hoverColor:"#404BF2",colors:r.color,onLabelShow:function(t,e,a){void 0!==o[a]?e.html(o[a]):e.html(e.html()+" [0]<hr />")}}),jQuery("#wp-statistics-hitsmap-widget")),a=jQuery("#side-sortables"),s=jQuery("#normal-sortables"),t={attributes:!1,childList:!0,characterData:!1,subtree:!0},i=new MutationObserver(function(t){(a.find(e).length||s.find(e).length)&&window.dispatchEvent(new Event("resize"))});i.observe(document.getElementById("side-sortables"),t),i.observe(document.getElementById("normal-sortables"),t)}},u.models_meta_box={placeholder:function(){return u.circle_placeholder()},view:function(){var t="";return t+='<div class="o-wrap"><div class="c-chart c-chart--limited-height"><canvas id="'+u.chart_id("models")+'" height="220"></canvas></div></div>'},meta_box_init:function(){for(var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],a=[],r=0;r<=20;r++)t=u.random_color(),a.push("rgba("+t[0]+","+t[1]+","+t[2]+",0.4)");var o=[{label:u._("model"),data:e.model_value,backgroundColor:a,tension:.4}];u.pie_chart(u.chart_id("models"),e.model_name,o)}},u.pages_chart_meta_box={placeholder:function(){return u.rectangle_placeholder()},view:function(){return'<div class="o-wrap"><canvas id="'+u.chart_id("pages-chart")+'" height="80"></canvas></div>'},meta_box_init:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];this.show_chart(u.chart_id("pages-chart"),t),u.exist_tag("span[id=number-total-visits]")&&jQuery("span[id=number-total-visits]").html(t.total),u.exist_tag("span[id=number-total-chart-visits]")&&jQuery("span[id=number-total-chart-visits]").html(t.total_dates)},show_chart:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];u.line_chart(t,e.title,e.date,[{label:u._("visits"),data:e.stat,backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,fill:!0,tension:.4}])}},u.pages_meta_box={view:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e="",a=(e+='<div class="o-table-wrapper"><table width="100%" class="o-table o-table--pages o-table--layout-fixed"><tbody><tr><th class="row-id"></th><th>'.concat(u._("title"),"</th><th>").concat(u._("link"),'</th><th width="10%">').concat(u._("visits"),"</th></tr>"),u.global.admin_url.replace("/wp-admin/","")),r=1;return t.pages.forEach(function(t){e+='<tr><td class="row-id">'.concat(r,"</td><td><span title='").concat(t.title,"' class='wps-cursor-default wps-text-wrap'>").concat(t.title,'</span></td><td><a href="').concat(a).concat(t.str_url,'" title="').concat(t.title,'" target="_blank">').concat(t.title,' <span class="dashicons dashicons-external" style="font-size: 15px; vertical-align: middle"></span></a></td><td><a style="justify-content: flex-end;" href="').concat(t.hits_page,'">').concat(t.number,' <svg style="margin-top: 3px;" width="10" height="10" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.82751 4.99993 2.62209 2.79451c-.0759-.07859-.1179-.18384-.11695-.29309.00095-.10924.04477-.21375.12203-.291.07725-.07726.18176-.12108.291-.12203.10925-.00094.2145.04105.29309.11695l2.5 2.5c.07811.07814.12199.1841.12199.29459 0 .11048-.04388.21644-.12199.29458l-2.5 2.5c-.07859.0759-.18384.1179-.29309.11695-.10924-.00095-.21375-.04477-.291-.12203-.07726-.07725-.12108-.18176-.12203-.291-.00095-.10925.04105-.2145.11695-.29309l2.20542-2.20541Z" fill="#404BF2" fill-opacity=".5"/><path d="M7.87792 5.13371 5.67251 2.9283c-.0759-.07859-.1179-.18384-.11695-.29309.00095-.10924.04477-.21375.12202-.291.07726-.07726.18176-.12108.29101-.12203.10925-.00095.2145.04105.29308.11695l2.5 2.5c.07812.07814.122.1841.122.29458 0 .11049-.04388.21645-.122.29459l-2.5 2.5c-.07858.0759-.18383.11789-.29308.11695-.10925-.00095-.21375-.04477-.29101-.12203-.07725-.07725-.12107-.18176-.12202-.29101-.00095-.10924.04105-.2145.11695-.29308l2.20541-2.20542Z" fill="#404BF2"/> </svg> </a></td></tr>'),r++}),e+="</tbody></table></div>"}},u.platforms_meta_box={placeholder:function(){return u.circle_placeholder()},view:function(){var t="";return t+='<div class="o-wrap"><div class="c-chart c-chart--limited-height"><canvas id="'+u.chart_id("platforms")+'" height="220"></canvas></div></div>'},meta_box_init:function(){for(var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],a=[],r=0;r<=20;r++)t=u.random_color(),a.push("rgba("+t[0]+","+t[1]+","+t[2]+",0.4)");var o=[{label:u._("platform"),data:e.platform_value,backgroundColor:a,tension:.4}];if(u.pie_chart(u.chart_id("platforms"),e.platform_name,o),u.exist_tag("#"+u.getMetaBoxKey("platforms-table"))){["platforms-table","platforms"].forEach(function(t){jQuery("#"+u.getMetaBoxKey(t)+" .inside").removeAttr("style")});for(var s='<div class="title-center">'.concat(e.title,'</div><table width="100%" class="o-table"><tr><td class="wps-text-muted">').concat(u._("platform"),'</td><td class="wps-text-muted">').concat(u._("visitor_count"),'</td><td class="wps-text-muted">').concat(u._("percentage"),"</td></tr>"),i=0;i<e.platform_name.length;i++)s+=" <tr><td>".concat(e.platform_name[i],"</td><td>").concat(0<parseInt(e.platform_value[i])?'<a href="'+e.info.visitor_page+"&platform="+e.platform_name[i]+"&from="+e.from+"&to="+e.to+'" target="_blank"> '.concat(u.number_format(e.platform_value[i])," </a>"):u.number_format(e.platform_value[i]),"</td><td>").concat(u.number_format(e.platform_value[i]/e.total*100),"%</td> </tr>");s=s+" <tr><td>".concat(u._("total"),"</td><td>").concat(u.number_format(e.total),"</td><td></td></tr>")+"</table>",jQuery("#"+u.getMetaBoxKey("platforms-table")+" .inside").html(s),u.set_equal_height(".postBox-table .inside",".postBox-chart .inside")}}},u.post_meta_box={params:function(){return{ID:u.global.page.ID}},view:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return(t.hasOwnProperty("content")?'<div class="wps-center" style="padding: 15px;"> '+t.content+"</div>":'<canvas id="'+u.chart_id("post")+'" height="85"></canvas>')+'<div class="wps-wrap wps-meta-box-footer">'+t.visitors+"</div>"},meta_box_init:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];t.hasOwnProperty("content")?jQuery("#"+u.getMetaBoxKey("post")+" button[onclick]").remove():this.post_hits_chart(u.chart_id("post"),t)},post_hits_chart:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];u.line_chart(t,e.title,e.date,[{label:e.post_title,data:e.state,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1,fill:!0,tension:.4}])}},u.quickstats_meta_box={view:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e="";return e+u.summary_meta_box.user_online(t)+'<div class="o-table-wrapper"><table width="100%" class="o-table"><tbody>'+u.summary_meta_box.summary_statistics(t)+"</tbody></table></div>"+'<br><hr width="80%"/><br>'+('<canvas id="'+u.chart_id("quickstats")+'" height="210"></canvas>')},meta_box_init:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];u.hits_meta_box.hits_chart(u.chart_id("quickstats"),t)}},u.recent_meta_box={view:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],a="",a=(a+='<div class="o-table-wrapper">')+('<table width="100%" class="o-table o-table--visitors"><thead><tr><th></th><th>'.concat(u._("browser"),"</th>")+(u.is_active("geo_ip")?"<th>".concat(u._("country"),"</th>"):"")+""+(u.is_active("geo_city")?"<th>".concat(u._("city"),"</th>"):"")+"<th>".concat(u._("date"),'</th><th class="o-table__td--sm-width">').concat(u._("hits"),'</th><th class="o-table__link">').concat(u._("ip"),"</th><th>").concat(u._("referrer"),"</th></tr></thead><tbody>"));return t.forEach(function(t,e){a+='<tr><td class="row-id">'.concat(++e,'</td><td><a class="is-normal-text" href="').concat(t.browser.link,'" title="').concat(t.browser.name,'"><img src="').concat(t.browser.logo,'" alt="').concat(t.browser.name,"\" class='wps-flag log-tools' title='").concat(t.browser.name,"'/> ").concat(t.browser.name,"</a></td>")+(u.is_active("geo_ip")?"<td><img src='".concat(t.country.flag,"' alt='").concat(t.country.name,"' title='").concat(t.country.name,"' class='wps-flag'/> ").concat(t.country.name,"</td>"):"")+""+(u.is_active("geo_city")?"<td>".concat(t.city,"</td>"):"")+"<td>".concat(t.date,'</td><td class="o-table__td--sm-width">').concat(t.hits,'</td><td class="o-table__link o-table__ip">')+(t.hash_ip||"<a href='".concat(t.ip.link,"'>").concat(t.ip.value,"</a>"))+'</td><td class="o-table__referred">'.concat(t.referred,"</td></tr>")}),a=a+"</tbody></table>"+"</div>"}},u.referring_meta_box={view:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e='<div class="o-table-wrapper">';return e+='<table width="100%" class="o-table o-table--link o-table--space-between"><thead><tr><th>'.concat(u._("address"),"</th><th>").concat(u.meta_box_lang("referring","references"),"</th></tr></thead><tbody>"),t.referring.forEach(function(t){e+="<tr><td>"+u.site_icon(t.domain)+" <a href='//".concat(t.domain,"' title='").concat(t.title,'\' target="_blank">').concat(t.domain,' <span class="dashicons dashicons-external" style="font-size: 15px; vertical-align: middle"></span></a></td><td class="wps-middle-vertical"><a style="justify-content: flex-end;" href="').concat(t.page_link,'">').concat(t.number,' <svg style="margin-top: 3px;" width="10" height="10" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.82751 4.99993 2.62209 2.79451c-.0759-.07859-.1179-.18384-.11695-.29309.00095-.10924.04477-.21375.12203-.291.07725-.07726.18176-.12108.291-.12203.10925-.00094.2145.04105.29309.11695l2.5 2.5c.07811.07814.12199.1841.12199.29459 0 .11048-.04388.21644-.12199.29458l-2.5 2.5c-.07859.0759-.18384.1179-.29309.11695-.10924-.00095-.21375-.04477-.291-.12203-.07726-.07725-.12108-.18176-.12203-.291-.00095-.10925.04105-.2145.11695-.29309l2.20542-2.20541Z" fill="#404BF2" fill-opacity=".5"/><path d="M7.87792 5.13371 5.67251 2.9283c-.0759-.07859-.1179-.18384-.11695-.29309.00095-.10924.04477-.21375.12202-.291.07726-.07726.18176-.12108.29101-.12203.10925-.00095.2145.04105.29308.11695l2.5 2.5c.07812.07814.122.1841.122.29458 0 .11049-.04388.21645-.122.29459l-2.5 2.5c-.07858.0759-.18383.11789-.29308.11695-.10925-.00095-.21375-.04477-.29101-.12203-.07725-.07725-.12107-.18176-.12202-.29101-.00095-.10924.04105-.2145.11695-.29308l2.20541-2.20542Z" fill="#404BF2"/> </svg></a></td></tr>')}),e+="</tbody></table></div>"}},u.search_meta_box={placeholder:function(){return u.rectangle_placeholder()},view:function(){var t=u.is_active("overview_page")?300:210,e=(u.isset(u.global,"request_params","page")&&"searches"===u.global.request_params.page&&(t=300),"");return e+='<div class="o-wrap"><canvas id="'+u.chart_id("search")+'" height="'+t+'"></canvas></div>'},meta_box_init:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r=[],o=0;Object.keys(a["search-engine"]).forEach(function(t){var t=a["search-engine"][t].name,e=u.random_color(o);r.push({label:t,data:a.stat[t],backgroundColor:"rgba("+e[0]+","+e[1]+","+e[2]+",0.3)",borderColor:"rgba("+e[0]+","+e[1]+","+e[2]+",1)",borderWidth:1,fill:!0,tension:.4}),o++}),1===a.total.active&&r.push({label:u._("total"),data:a.total.stat,backgroundColor:"rgba("+a.total.color+", 0.2)",borderColor:"rgba("+a.total.color+", 1)",borderWidth:1,fill:!0,tension:.4}),u.line_chart(u.chart_id("search"),a.title,a.date,r,{options:{maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"}}})}},u.summary_meta_box={summary_statistics:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r="<thead>";if((u.is_active("visitors")||u.is_active("visits"))&&(r+='<tr><th width="50%">'+u._("time")+"</th>",["visitors","visits"].forEach(function(t){r+="<th>"+(u.is_active(t)?u._(t):"")+"</th>"}),r+="</tr></thead><tbody>",Object.keys(a).length)){for(var o=["today","yesterday","last-week","week","month","60days","90days","year","this-year","last-year","total"],t=0;t<o.length;t++)!function(e){r+="<tr><td>".concat(u._(o[e]),"</td>"),["visitors","visits"].forEach(function(t){void 0===a[t][o[e]]?r+="<td>-</td>":r+="<td>"+(u.is_active(t)?'<a href="'.concat(a[t][o[e]].link,'"><span>').concat(a[t][o[e]].value,"</span></a>"):"")+"</td>"}),r+="</tr>"}(t);r+="</tbody>"}return r},user_online:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e="";return e=t.user_online?'<div class="c-live"><span class="c-live__status"></span><span class="c-live__title">'.concat(u._("online_users"),':</span> <span><a class="c-live__value" href="').concat(t.user_online.link,'">').concat(t.user_online.value,"</a></span></div>"):e},view:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e="";return e+this.user_online(t)+'<div class="o-table-wrapper"><table width="100%" class="o-table o-table--wps-summary-stats">'+this.summary_statistics(t)+"</table></div>"}},u.top_pages_chart_meta_box={placeholder:function(){return u.rectangle_placeholder()},view:function(){var t="";return setTimeout(function(){u.date_picker()},1e3),t+='<div class="o-wrap"><canvas id="'+u.chart_id("top-pages-chart")+'" height="80"></canvas></div>'},meta_box_init:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];this.top_pages_chart(u.chart_id("top-pages-chart"),t)},top_pages_chart:function(t){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=[],o=0;Object.keys(a.stat).forEach(function(t){var e=u.random_color(o);r.push({label:t,data:a.stat[t],backgroundColor:"rgba("+e[0]+","+e[1]+","+e[2]+",0.3)",borderColor:"rgba("+e[0]+","+e[1]+","+e[2]+",1)",borderWidth:1,fill:!0,tension:.4}),o++}),u.line_chart(t,a.title,a.date,r)}},u.top_visitors_meta_box={view:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e="",a=(e=(e+='<div class="o-table-wrapper">')+('<table width="100%" class="o-table o-table--responsive"><tbody><tr><td></td><td class="o-table__td--sm-width">'.concat(u._("hits"),"</td>")+(u.is_active("geo_ip")?"<td>".concat(u._("country"),"</td>"):"")+""+(u.is_active("geo_city")?"<td>".concat(u._("city"),"</td>"):"")+"<td>".concat(u._("ip"),"</td><td>").concat(u._("browser"),"</td><td>").concat(u._("platform"),"</td><td>").concat(u._("version"),"</td></tr>")),1);return t.forEach(function(t){e+='<tr><td class="row-id">'.concat(a,'</td><td class="o-table__td--sm-width">').concat(t.hits,"</td>")+(u.is_active("geo_ip")?"<td><img src='".concat(t.country.flag,"' alt='").concat(t.country.name,"' title='").concat(t.country.name,"' class='log-tools wps-flag'/> ").concat(t.country.name,"</td>"):"")+""+(u.is_active("geo_city")?"<td>".concat(t.city,"</td>"):"")+'<td class="wps-admin-column__ip">'+(t.hash_ip||"<a href='".concat(t.ip.link,"'>").concat(t.ip.value,"</a>"))+'</td><td><a class="is-normal-text" href="'.concat(t.browser.link,'" title="').concat(t.browser.name,'"><img src="').concat(t.browser.logo,'" alt="').concat(t.browser.name,"\" class='wps-flag log-tools' title='").concat(t.browser.name,"'/> ").concat(t.browser.name,"</a></td><td>").concat(t.platform,"</td><td>").concat(t.version,"</td></tr>"),a++}),e=e+"</tbody></table>"+"</div>"}},u.useronline_meta_box={view:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e='<div class="o-table-wrapper">';return e+='<table class="o-table o-table--visitors"><tr><td>'.concat(u._("page"),"</td><td>").concat(u._("referrer"),"</td>")+(u.is_active("geo_ip")?"<td>".concat(u._("country"),"</td>"):"")+"<td>".concat(u._("ip"),"</td></tr>"),t.forEach(function(t){e+='<tr><td><span class="wps-text-wrap">'+(2<t.page.link.length?'<a href="'.concat(t.page.link,'" title="').concat(t.page.title,'" target="_blank" class="wps-text-muted is-normal-text">'):"")+t.page.title+(2<t.page.link.length?"</a>":"")+'</span></td><td><div class="table-cell-scroller">'.concat(t.referred,"</div></td>")+(u.is_active("geo_ip")?"<td><img src='".concat(t.country.flag,"' alt='").concat(t.country.name,"' class='wps-flag wps-flag--first'/> ").concat(t.country.name,"</td>"):"")+"<td><a href='"+(t.hash_ip?"#":t.ip.link)+"'>"+(t.hash_ip||t.ip.value)+"</a></td></tr>"}),e+="</table></div>"}},u.words_meta_box={view:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e="";e=(e+='<div class="o-table-wrapper">')+('<table width="100%" class="o-table"><tbody><tr><td>'.concat(u._("word"),"</td><td>").concat(u._("browser"),"</td>")+(u.is_active("geo_ip")?"<td>".concat(u._("country"),"</td>"):""))+""+(u.is_active("geo_city")?"<td>".concat(u._("city"),"</td>"):"")+"<td>".concat(u._("date"),"</td><td>").concat(u._("ip"),"</td><td>").concat(u._("referrer"),"</td></tr>");return t.forEach(function(t){e+="<tr><td><span title='".concat(t.word,"' class='wps-cursor-default wps-text-wrap'>").concat(t.word,'</span></td><td><a href="').concat(t.browser.link,'" title="').concat(t.browser.name,'" class="is-normal-text"><img src="').concat(t.browser.logo,'" alt="').concat(t.browser.name,"\" title='").concat(t.browser.name,'\' class="wps-flag"/> ').concat(t.browser.name,"</a></td>")+(u.is_active("geo_ip")?'<td style="text-align: left"><img src=\''.concat(t.country.flag,"' alt='").concat(t.country.name,"' title='").concat(t.country.name,"' class='wps-flag'/> ").concat(t.country.name,"</td>"):"")+""+(u.is_active("geo_city")?'<td style="text-align: left">'.concat(t.city,"</td>"):"")+"<td>".concat(t.date,"</td><td>")+(t.hash_ip||"<a href='".concat(t.ip.link,"'>").concat(t.ip.value,"</a>"))+'</td><td class="wps-admin-column__referred">'.concat(t.referred,"</td></tr>"),0}),e=e+"</tbody></table>"+"</div>"}},u.isset(u.global,"request_params","page")&&"authors"===u.global.request_params.page&&(a={ago:30,type:"author",ID:0},["from","to","ID"].forEach(function(t){u.isset(u.global,"request_params",t)&&(a[t]=u.global.request_params[t])}),jQuery("span[id^='number-total-']").html(u.rectangle_placeholder("wps-text-placeholder")),u.run_meta_box("pages-chart",a,!1)),u.isset(u.global,"request_params","page")&&"browser"===u.global.request_params.page&&(r={},["from","to"].forEach(function(t){u.isset(u.global,"request_params",t)&&(r[t]=u.global.request_params[t])}),["browsers-table","browsers"].forEach(function(t){jQuery("#"+u.getMetaBoxKey(t)+" .inside").css("height","430px")}),jQuery("#wp-statistics-browsers-table-widget .inside").html(u.placeholder()),jQuery(".wps-ph-picture").attr("style","height: 310px;"),u.run_meta_box("browsers",r,!1)),u.isset(u.global,"request_params","page")&&"categories"===u.global.request_params.page&&(o={ago:30,type:"category",ID:0},["from","to","ID"].forEach(function(t){u.isset(u.global,"request_params",t)&&(o[t]=u.global.request_params[t])}),jQuery("span[id^='number-total-']").html(u.rectangle_placeholder("wps-text-placeholder")),u.run_meta_box("pages-chart",o,!1)),u.isset(u.global,"request_params","page")&&"countries"===u.global.request_params.page&&(s={limit:0},["from","to"].forEach(function(t){u.isset(u.global,"request_params",t)&&(s[t]=u.global.request_params[t])}),u.run_meta_box("countries",s,!1)),u.isset(u.global,"request_params","page")&&"exclusions"===u.global.request_params.page&&(t=u.isset(u.global,"request_params","from")&&u.isset(u.global,"request_params","to")?{from:u.global.request_params.from,to:u.global.request_params.to}:{ago:30},jQuery("span[id^='number-total-chart-']").html(u.rectangle_placeholder("wps-text-placeholder")),u.run_meta_box("exclusions",t,!1)),u.isset(u.global,"request_params","page")&&"hits"===u.global.request_params.page&&(t={},t=u.isset(u.global,"request_params","from")&&u.isset(u.global,"request_params","to")?{from:u.global.request_params.from,to:u.global.request_params.to}:{ago:30},jQuery("span[id^='number-total-chart-']").html(u.rectangle_placeholder("wps-text-placeholder")),u.run_meta_box("hits",t,!1)),u.isset(u.global,"request_params","page")&&"overview"===u.global.request_params.page&&u.isset(u.global,"overview","ads")&&u.is_active("overview_ads")&&(t='<div id="wps_overview_ads_postbox" class="postbox"><div class="inside"><div class="close-overview-ads"><span class="dashicons dashicons-dismiss"></span></div><a href="'.concat(u.global.overview.ads.link,'" title="').concat(u.global.overview.ads.title,'" ').concat("yes"==u.global.overview.ads._target?' target="_blank"':"",'><img src="').concat(u.global.overview.ads.image,'" id="wps_overview_ads_image" alt="').concat(u.global.overview.ads.title,'"></a></div></div>'),jQuery(t).insertAfter("#wps-postbox-container-2 #normal-sortables div.postbox:first"),jQuery(document).on("click",".close-overview-ads",function(){jQuery("#wps_overview_ads_postbox").fadeOut("normal"),jQuery.ajax({url:u.global.admin_url+"admin-ajax.php",type:"get",data:{action:"wp_statistics_close_overview_ads",ads_id:""+u.global.overview.ads.ID,wps_nonce:""+u.global.rest_api_nonce},datatype:"json"})}),jQuery("#wps-donate-notice").on("click",".notice-dismiss",function(){jQuery.ajax({url:u.global.admin_url+"admin-ajax.php",type:"get",data:{action:"wp_statistics_close_notice",notice:"donate",wps_nonce:""+u.global.rest_api_nonce},datatype:"json"})}),jQuery("#wps_overview_ads_image").on("error",function(){jQuery("#wps_overview_ads_postbox").remove()})),u.isset(u.global,"request_params","page")&&"pages"===u.global.request_params.page)if(u.isset(u.global,"request_params","ID")&&u.isset(u.global,"request_params","type")){var p,_,t=u.isset(u.global,"request_params","from")&&u.isset(u.global,"request_params","to")?{from:u.global.request_params.from,to:u.global.request_params.to}:{ago:30};if(t=Object.assign(t,{ID:u.global.request_params.ID,type:u.global.request_params.type}),u.run_meta_box("pages-chart",t,!1),u.exist_tag("form#wp-statistics-select-pages")&&u.select2(),jQuery(document).on("change","select[name=ID]",function(){jQuery("span.submit-form").html(u._("please_wait")),jQuery(this).closest("form").trigger("submit")}),u.exist_tag("div[data-top-browsers-chart='true']")){for(var m,t=jQuery("div[data-top-browsers-chart='true']"),f=jQuery(t).data("browsers-names"),h=jQuery(t).data("browsers-values"),b=[],g=0;g<=10;g++)m=u.random_color(g),b.push("rgba("+m[0]+","+m[1]+","+m[2]+",0.4)");var v=[{label:u._("browsers"),data:h,backgroundColor:b}];jQuery(t).after('<div class="o-wrap"><div class="c-chart c-chart--limited-height"><canvas id="'+u.chart_id("browsers")+'" height="220"></canvas></div></div>'),jQuery(t).remove(),f.length&&h.length?u.pie_chart(u.chart_id("browsers"),f,v):jQuery("#wp-statistics-browsers-widget").empty().html(u.no_meta_box_data())}if(u.exist_tag("div[data-top-platforms-chart='true']")){for(var y,t=jQuery("div[data-top-platforms-chart='true']"),h=jQuery(t).data("platforms-names"),f=jQuery(t).data("platforms-values"),w=[],x=0;x<=10;x++)y=u.random_color(x),w.push("rgba("+y[0]+","+y[1]+","+y[2]+",0.4)");var v=[{label:u._("platforms"),data:f,backgroundColor:w}];jQuery(t).after('<div class="o-wrap"><div class="c-chart c-chart--limited-height"><canvas id="'+u.chart_id("platforms")+'" height="220"></canvas></div></div>'),jQuery(t).remove(),h.length&&f.length?u.pie_chart(u.chart_id("platforms"),h,v):jQuery("#wp-statistics-platforms-widget").empty().html(u.no_meta_box_data())}u.exist_tag("div[data-visitors-map='true']")&&(t=jQuery("div[data-visitors-map='true']"),p=jQuery(t).data("response"),jQuery(t).after('<div class="o-wrap"><div id="wp-statistics-visitors-map"></div></div>'),jQuery(t).remove(),_=Array(),p.hasOwnProperty("country")?(Object.keys(p.country).forEach(function(e){var a="<div class='map-html-marker'><div class=\"map-country-header\"><img src='".concat(p.country[e].flag,"' alt=\"").concat(p.country[e].name,"\" title='").concat(p.country[e].name,"' class='log-tools wps-flag'/> ").concat(p.country[e].name," (").concat(p.total_country[e],")</div>");Object.keys(p.visitor[e]).forEach(function(t){a+="<p><img src='".concat(p.visitor[e][t].browser.logo,"' alt=\"").concat(p.visitor[e][t].browser.name,"\" class='wps-flag log-tools' title='").concat(p.visitor[e][t].browser.name,"'/> ").concat(p.visitor[e][t].ip," ")+(["Unknown","(Unknown)"].includes(p.visitor[e][t].city)?"":"- "+p.visitor[e][t].city)+"</p>"}),a+="</div>",_[e]=a}),jQuery("#wp-statistics-visitors-map").vectorMap({map:"world_en",backgroundColor:"#fff",borderColor:"#7e7e7e",borderOpacity:.6,color:"#e6e5e2",selectedColor:"#9DA3F7",hoverColor:"#404BF2",colors:p.color,onLabelShow:function(t,e,a){void 0!==_[a]?e.html(_[a]):e.html(e.html()+" [0]<hr />")}})):jQuery("#wp-statistics-visitors-map-widget").empty().html(u.no_meta_box_data()))}else{f={};u.isset(u.global,"request_params","pagination-page")&&(f.paged=u.global.request_params["pagination-page"]),u.isset(u.global,"request_params","from")&&u.isset(u.global,"request_params","to")?(f.from=u.global.request_params.from,f.to=u.global.request_params.to):f.ago=30,u.run_meta_box("top-pages-chart",f,!1)}function j(t){jQuery(".wp-statistics-settings ul.tabs li").removeClass("current"),jQuery(".wp-statistics-settings .tab-content").removeClass("current"),jQuery("[data-tab="+t+"]").addClass("current"),jQuery("#"+t).addClass("current"),jQuery("#wp-statistics-settings-form").length&&(t=jQuery(location).attr("href")+"&tab="+t,jQuery("#wp-statistics-settings-form").attr("action",t).submit())}function k(t,e){jQuery(document).on("change",t,function(t){t.preventDefault();t=jQuery(e);this.checked?t.show("slow"):(t.hide("slow"),t.find("input[type=checkbox]").prop("checked",!1))})}u.isset(u.global,"request_params","page")&&"platform"===u.global.request_params.page&&(i={},["from","to"].forEach(function(t){u.isset(u.global,"request_params",t)&&(i[t]=u.global.request_params[t])}),["platforms-table","platforms"].forEach(function(t){jQuery("#"+u.getMetaBoxKey(t)+" .inside").css("height","430px")}),jQuery("#wp-statistics-platforms-table-widget .inside").html(u.placeholder()),jQuery(".wps-ph-picture").attr("style","height: 310px;"),u.run_meta_box("platforms",i,!1)),u.isset(u.global,"request_params","page")&&"searches"===u.global.request_params.page&&(h=u.isset(u.global,"request_params","from")&&u.isset(u.global,"request_params","to")?{from:u.global.request_params.from,to:u.global.request_params.to}:{ago:30},u.run_meta_box("search",h,!1)),jQuery(".wp-statistics-settings").length&&((v=function(t){if(t=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.href))return t[1]}("tab"))&&j(v),jQuery(".wp-statistics-settings ul.tabs li").click(function(){j(jQuery(this).attr("data-tab"))})),k("input[name=wps_visitors]","tr[data-view=visitors_log_tr]"),k("input[name=wps_referrerspam]","tr.referrerspam_field"),u.isset(u.global,"request_params","page")&&"settings"===u.global.request_params.page&&(jQuery("#wp-statistics-settings-form ul.tabs li").click(function(t){t.preventDefault();t=e(this).attr("data-tab");"undefined"!=typeof localStorage&&localStorage.setItem("wp-statistics-settings-active-tab",t)}),"undefined"!=typeof localStorage&&u.isset(u.global,"request_params","save_setting")&&"yes"===u.global.request_params.save_setting&&(t=localStorage.getItem("wp-statistics-settings-active-tab"))&&0<t.length&&e("#wp-statistics-settings-form ul.tabs li[data-tab="+t+"]").click()),u.isset(u.global,"request_params","page")&&"tags"===u.global.request_params.page&&(n={ago:30,type:"post_tag",ID:0},["from","to","ID"].forEach(function(t){u.isset(u.global,"request_params",t)&&(n[t]=u.global.request_params[t])}),jQuery("span[id^='number-total-']").html(u.rectangle_placeholder("wps-text-placeholder")),u.run_meta_box("pages-chart",n,!1)),u.isset(u.global,"request_params","page")&&"taxonomies"===u.global.request_params.page&&(c={ago:0,type:u.global.request_params.taxonomy,ID:0},["from","to","ID"].forEach(function(t){u.isset(u.global,"request_params",t)&&(c[t]=u.global.request_params[t])}),jQuery("span[id^='number-total-']").html(u.rectangle_placeholder("wps-text-placeholder")),u.run_meta_box("pages-chart",c,!1)),u.isset(u.global,"request_params","page")&&"visitors"===u.global.request_params.page&&(l=function(t,r){var o='<table class="o-table">',s={browsers:["agent","browsers"],country:["location","location"],platform:["platform","platform"],referrer:["referrer","referrer"],user:["user_id","users"]},e=(Object.keys(s).forEach(function(e){o=(o=(o+="<tr><td>".concat(u._(e),"</td></tr>"))+'<tr><td><select name="'.concat(s[e][0],'" class="select2 wps-width-100" data-type-show="select2">'))+"<option value=''>".concat(u._("all"),"</option>");var a=u.getLinkParams(s[e][0]);Object.keys(r[s[e][1]]).forEach(function(t){o+="<option value='".concat(t,"' ").concat(null!=a&&a==t?"selected":"",">").concat(r[s[e][1]][t],"</option>")}),o+="</select></td></tr>"}),"width: calc(50% - 5px);display: inline-block;"),o=(o=(o=(o=(o+="<tr><td>".concat(u._("ip"),"</td></tr>"))+'<tr><td><input name="ip" value="'.concat(null!=u.getLinkParams("ip")?u.getLinkParams("ip"):"",'" class="wps-width-100" placeholder=\'xxx.xxx.xxx.xxx\' autocomplete="off"></td></tr>'))+"<tr><td>".concat(u._("date"),"</td></tr>"))+'<tr><td><div style="'.concat(e,'">').concat(u._("from"),': <input name="date-from" data-wps-date-picker="from" value="').concat(null!=u.getLinkParams("from")?u.getLinkParams("from"):"",'" style="width: calc(100% - 5px);" placeholder="YYYY-MM-DD" autocomplete="off"></div><div style="').concat(e,'">').concat(u._("to"),': <input name="date-to" data-wps-date-picker="to" value="').concat(null!=u.getLinkParams("to")?u.getLinkParams("to"):"",'" style="width: 100%;" placeholder="YYYY-MM-DD" autocomplete="off"></div><input type="hidden" name="from" id="date-from" value="').concat(null!=u.getLinkParams("from")?u.getLinkParams("from"):"",'"><input type="hidden" name="to" id="date-to" value="').concat(null!=u.getLinkParams("to")?u.getLinkParams("to"):"",'"></td></tr>')+"<tr><td></td></tr>")+'<tr><td><input type="submit" value="'.concat(u._("filter"),'" class="button-primary"> &nbsp; <span class="filter-loading"></span></td></tr>')+"</table>";jQuery(t).html(o),setTimeout(function(){u.date_picker(),u.select2()},200)},jQuery(document).on("click","div#visitors-filter",function(t){t.preventDefault(),tb_show("","#TB_inline?&width=430&height=668&inlineId=visitors-filter-popup"),setTimeout(function(){var t,e,a="#wps-visitors-filter-form";u.exist_tag(a+" input[type=submit]")||(jQuery(a).html('<div style="height: 50px;"></div>'+u.line_placeholder(5)),t=localStorage.getItem("wp-statistics-visitors-filter")?JSON.parse(localStorage.getItem("wp-statistics-visitors-filter")):{},!u.isset(t,"timestamp")||!u.isset(t,"value")||u.isset(t,"timestamp")&&u.isset(t,"value")&&(new Date).getTime().toString()>parseInt(t.timestamp)?(e={wps_nonce:u.global.rest_api_nonce,action:"wp_statistics_visitors_page_filters"},e=Object.assign(e,u.global.request_params),jQuery.ajax({url:u.global.admin_url+"admin-ajax.php",type:"GET",dataType:"json",data:e,timeout:3e4,success:function(t){localStorage.setItem("wp-statistics-visitors-filter",JSON.stringify({value:t,timestamp:(new Date).getTime()+216e5})),l(a,t)},error:function(t,e,a){jQuery("span.tb-close-icon").click()}})):l(a,t.value))},500)}),d="#wp_statistics_visitors_filter_form",jQuery(document).on("submit",d,function(){var t=jQuery(d+" input[name=date-from]"),e=jQuery(d+" input[name=date-to]");if(0<t.val().length&&e.val().length<1||t.val().length<1&&1<e.val().length)return alert(u._("er_datepicker")),!1;t=jQuery(d+" input[name=ip]").val();if(0<t.length&&!1===u.isIP(t))return alert(u._("er_valid_ip")),!1;jQuery("input[data-wps-date-picker]").prop("disabled",!0);var r={input:["date-from","date-to","ip"],select:["agent","platform","location","referrer","user_id"]},e=(Object.keys(r).forEach(function(a){r[a].forEach(function(e){var t=jQuery(d+" "+a+"[name="+e+"]");t.val().length<1&&(t.prop("disabled",!0),["from","to"].forEach(function(t){e=="date-"+t&&jQuery(d+" input[name="+t+"]").prop("disabled",!0)}))})}),u.getLinkParams("order"));return null!=e&&jQuery(this).append('<input type="hidden" name="order" value="'+e+'" /> '),jQuery("span.filter-loading").html(u._("please_wait")),!0})),u.date_picker(),("index.php"===u.global.page.file||u.is_active("overview_page")||"post-new.php"===u.global.page.file||"post.php"===u.global.page.file&&u.isset(u.global,"page","ID"))&&u.run_meta_boxes()});